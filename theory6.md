# Лабораторная работа №6  
## Обработка исключений в C++

---

## Цель работы
Формирование навыков обработки ошибок с помощью исключений, повышающих надежность программ.  
Закрепление навыков работы с классами, перегрузкой операторов и динамическими массивами.  
Формирование навыков разработки программы по техническому заданию без детальных указаний реализации.

---

## 1. Понятие исключений

Исключения — это механизм обработки **ошибок времени выполнения**.  
В отличие от классического языка C, где код обработки ошибок смешивается с основным кодом,  
в C++ исключения позволяют:

- описать нормальный ход выполнения программы;
- вынести обработку ошибок в отдельные блоки;
- обрабатывать ошибки централизованно;
- повысить надежность и читаемость программы.

---

## 2. Основные конструкции обработки исключений

В C++ используются три ключевые инструкции:

- `try` — блок кода, в котором может возникнуть ошибка;
- `throw` — генерация (выбрасывание) исключения;
- `catch` — перехват и обработка исключения.

### Пример
```cpp

try {
    throw 10;
}
catch (int x) {
    cout << "Ошибка: " << x << endl;
}
```

## 3. Общие правила работы с исключениями

1. Инструкция throw генерирует исключение.
2. Исключение перехватывается соответствующим блоком catch.
3. Тип исключения определяет, какой catch будет выполнен.
4. Один try может иметь несколько catch.
5. throw должен выполняться в try или в функции, вызванной из try.
6. Если исключение не перехвачено — программа аварийно завершается (terminate()).
7. Последний catch (...) перехватывает все остальные исключения.

## 4. Исключения классового типа

В реальных программах чаще всего используются исключения классового типа,
так как они позволяют передавать подробную информацию об ошибке.

### Пример класса исключения
```cpp
class MyException {
public:
    string message;
    MyException(string msg) : message(msg) {}
};

```

### Генерация исключения:

```cpp 
throw MyException("Ошибка ввода данных");
```


Перехват:

```cpp
catch (MyException& e) {
    cout << e.message << endl;
}
```

## 5. Перехват всех исключений

Если разные типы ошибок обрабатываются одинаково, используется:

```cpp
catch (...) {
    cout << "Неизвестная ошибка" << endl;
}
```


Такой блок должен располагаться последним.

## 6. Перегрузка операторов
### 6.1 Перегрузка оператора ввода >>

Оператор `>>` позволяет вводить объект класса через cin.

`friend istream& operator>>(istream& in, ClassName& obj);`


При вводе необходимо:

- проверять корректность данных;
- проверять допустимый диапазон значений;
- при ошибке выбрасывать исключение.

### 6.2 Перегрузка оператора присваивания =

Оператор `=` используется для корректного копирования объектов,
в том числе при работе с динамическими массивами.

`ClassName& operator=(const ClassName& other);`

## 7. Контроль корректности ввода данных

Все данные, вводимые с клавиатуры, должны проверяться:
- пустые строки;
- диапазоны значений (день: 1–31, месяц: 1–12 и т.д.);
- логические ошибки (например, некорректная дата).

При обнаружении ошибки необходимо использовать throw.

## 8. Динамические массивы

Для хранения результатов поиска используются динамические массивы:

`ClassName* arr = new ClassName[size];`


Особенности:

1. память выделяется с помощью new;
2. копирование элементов выполняется через перегруженный оператор =;
3. освобождение памяти выполняется через delete[].

## 9. Поиск объектов

В данной работе реализуются:

- поиск поставщика по объекту класса fio;
- поиск поставщиков по заданной дате продажи.
- Данные для поиска вводятся с клавиатуры с обязательной проверкой и обработкой ошибок.

